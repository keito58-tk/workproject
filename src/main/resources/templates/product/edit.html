<!DOCTYPE html>
<html xmlns:th="https://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
	<head>
		<div th:replace="~{fragment :: meta}"></div>
		
		<div th:replace="~{fragment :: styles}"></div>
		
		<title>製品編集</title>
	</head>
	<body>
		<div th:replace="~{fragment :: header}"></div>
		
		<main>
			<div class="container">
				<div class="row justify-content-center">
	               <div class="col-xl-5 col-lg-6 col-md-8">
	
	                   <h1 class="mb-4 text-center">製品編集</h1>
	
	                   <form method="post" th:action="@{/product/__${product.id}__/update}" th:object="${productEditForm}" enctype="multipart/form-data">
	                       <div class="form-group row mb-3">
	                           <div class="col-md-5">
	                               <label for="name" class="col-form-label text-md-left fw-bold">
	                                   <div class="d-flex align-items-center">
	                                       <span class="me-1">製品名</span>
	                                       <span class="badge bg-danger">必須</span>
	                                   </div>
	                               </label>
	                           </div>
	                           <div class="col-md-7">
	                               <div th:if="${#fields.hasErrors('name')}" class="text-danger small mb-2" th:errors="*{name}"></div>
	                               <input type="text" class="form-control" th:field="*{name}" autocomplete="name" autofocus placeholder="製品名">
	                           </div>
	                       </div>
						   
						   <div class="form-group row mb-3">
                              <div class="col-md-4">
                                  <label for="imageFile" class="col-form-label text-md-left fw-bold">製品画像</label>
                              </div>
                              <div class="col-md-8">
                                  <div th:if="${#fields.hasErrors('imageFile')}" class="text-danger small mb-2 w-100 img-small" th:errors="*{imageFile}"></div>
                                  <input type="file" class="form-control" th:field="*{imageFile}">
                              </div>
                          </div>
   
                           <!-- 選択された画像の表示場所 -->
                           <div th:if="${product.imageName}" class="w-100 img-small" id="imagePreview"><img th:src="@{/images/__${product.imageName}__}" class="w-100 img-small mb-3"></div>
						   <div th:unless="${product.imageName}" class="row" id="imagePreview"></div>
	                      
	
	                       <div class="d-flex justify-content-center my-4">
	                           <button type="submit" class="btn shadow-sm w-50">更新</button>
	                       </div>
	                   </form>
	
	               </div>
	           </div>
			</div>
		</main>
		
		<!--フッター-->
		<div th:replace="~{fragment :: footer}"></div>
		
		<div th:replace="~{fragment :: scripts}"></div>
	</body>
</html>